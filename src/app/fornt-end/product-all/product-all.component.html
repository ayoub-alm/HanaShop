<section class="w-100 py-5 gradient-bg">
    <div class="container">
        <div class="row g-4">
            <!-- Filters Sidebar -->
            <div class="col-lg-4">
                <mat-card class="h-100 p-4 shadow-sm product-card">
                    <form class="row gy-3">
                        <h3 class="rose-color col-12 mb-3">Filtres</h3>
                        <a routerLink="/" fragment="categories">  <button mat-raised-button color="primary" >
                            D√©couvrez nos marques üëá
                        </button></a>
                        <!-- Price Slider -->
                        <div class="col-12">
                            <p class="fs-6 fw-semibold mb-2">Prix :</p>
                            <mat-slider
                                    class="w-100"
                                    [disabled]="false"
                                    [max]="1000"
                                    [min]="0"
                                    [step]="1"
                                    [discrete]="true"
                                    [showTickMarks]="true"
                            >
                                <input value="300" matSliderStartThumb aria-label="Prix minimum" />
                                <input value="400" matSliderEndThumb aria-label="Prix maximum" />
                            </mat-slider>
                        </div>

                        <!-- Dropdown -->
                        <div class="col-12">
                            <p class="fs-6 fw-semibold mb-2">Marque</p>
                            <mat-form-field appearance="outline" class="w-100">
<!--                                <mat-label></mat-label>-->
                                <mat-select multiple>
                                    <mat-option value="option1">Option 1</mat-option>
                                    <mat-option value="option2">Option 2</mat-option>
                                    <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                                <mat-hint align="end">S√©lectionnez une cat√©gorie</mat-hint>
                            </mat-form-field>
                        </div>

                        <div class="col-12">
                            <p class="fs-6 fw-semibold mb-2">Cat√©gorie :</p>
                            <mat-form-field appearance="outline" class="w-100">
                                <!--                                <mat-label></mat-label>-->
                                <mat-select multiple>
                                    <mat-option value="option1">Option 1</mat-option>
                                    <mat-option value="option2">Option 2</mat-option>
                                    <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                                <mat-hint align="end">S√©lectionnez une cat√©gorie</mat-hint>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
                            <p class="fs-6 fw-semibold mb-2">Trier par :</p>
                            <mat-form-field appearance="outline" class="w-100">
                                <!--                                <mat-label></mat-label>-->
                                <mat-select multiple>
                                    <mat-option value="option1">Option 1</mat-option>
                                    <mat-option value="option2">Option 2</mat-option>
                                    <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                                <mat-hint align="end">S√©lectionnez une cat√©gorie</mat-hint>
                            </mat-form-field>
                        </div>
                    </form>
                </mat-card>
            </div>

            <!-- Products Grid -->
            <div class="col-lg-8">
                <!-- Products Header -->
                <div class="products-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h4 class="mb-1">All Products</h4>
                            <p class="text-muted mb-0">Showing {{ (pageIndex * pageSize) + 1 }} - {{ Math.min((pageIndex + 1) * pageSize, totalProducts) }} of {{ totalProducts }} products</p>
                        </div>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="row g-4">
                    <div
                            *ngFor="let item of pagedProducts | async"
                            class="col-sm-6 col-md-4 col-lg-4"
                    >
                        <mat-card class="h-100 product-card hover-scale">
                            <a
                                    [routerLink]="'/product/show/' + item.ref"
                                    class="d-block text-decoration-none product-image-wrapper"
                            >
                                <img
                                        class="card-img-top rounded"
                                        src="/product.jpeg"
                                        [alt]="item.name"
                                />
                                <div class="product-overlay">
                                    <button mat-fab color="primary" class="view-btn">
                                        <mat-icon>visibility</mat-icon>
                                    </button>
                                </div>
                            </a>
                            <div class="p-3">
                                <h6 class="fw-bold text-dark mb-2 product-name">
                                    {{ item.name }}
                                </h6>
                                <div class="product-rating mb-2">
                                    <mat-icon class="star-icon">star</mat-icon>
                                    <mat-icon class="star-icon">star</mat-icon>
                                    <mat-icon class="star-icon">star</mat-icon>
                                    <mat-icon class="star-icon">star</mat-icon>
                                    <mat-icon class="star-icon-empty">star_border</mat-icon>
                                    <span class="rating-text">(4.0)</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mt-auto">
                                    <div class="price-container">
                                        <span class="product-price">{{ item.price }} MAD</span>
                                    </div>
                                    <button
                                            mat-mini-fab
                                            color="primary"
                                            aria-label="Add to cart"
                                            (click)="addToBasket(item)"
                                            class="add-to-cart-btn"
                                    >
                                        <mat-icon>add_shopping_cart</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                </div>

                <div class="d-flex justify-content-center mt-4">
                    <mat-paginator
                        [length]="totalItems"
                        [pageIndex]="pageIndex"
                        [pageSize]="pageSize"
                        [pageSizeOptions]="[6, 9, 12, 24]"
                        (page)="onPageChange($event)">
                    </mat-paginator>
                </div>
            </div>
        </div>
    </div>

    <app-footer></app-footer>
</section>
