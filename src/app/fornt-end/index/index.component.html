<mat-drawer-container class="example-container">
    <mat-drawer #drawer mode="over" position="end"  class="vh-100 w-sm-100 w-md-50 w-lg-50  position-fixed rounded-0 bg-secondary-subtle menu-drawer">
        <app-basket  (closeDrawer)="drawer.close()"></app-basket>
    </mat-drawer>

    <mat-drawer-content class="bg-white">
        <!-- Enhanced Navigation Bar -->
        <mat-toolbar class="enhanced-navbar mat-elevation-z3">
            <div class="container-fluid">
                <div class="navbar-content">
                    <!-- Logo Section -->
                    <div class="nav-logo">
                        <button mat-icon-button class="menu-button d-lg-none" aria-label="Menu">
                            <mat-icon>menu</mat-icon>
                        </button>
                        <a routerLink="/" class="brand-link">
                            <img src="/logo.png" alt="Hana Shop" class="brand-logo">
                            <span class="brand-name">Hana Shop</span>
                        </a>
                    </div>

                    <!-- Navigation Links -->
                    <div class="nav-links d-none d-lg-flex">
                        <a routerLink="/" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
                            <mat-icon>home</mat-icon>
                            <span>Home</span>
                        </a>
                        <a routerLink="/products" class="nav-link" routerLinkActive="active">
                            <mat-icon>shopping_bag</mat-icon>
                            <span>Products</span>
                        </a>
                        <a routerLink="/" fragment="categories" class="nav-link">
                            <mat-icon>category</mat-icon>
                            <span>Categories</span>
                        </a>
                        <a routerLink="/kiosk" class="nav-link" routerLinkActive="active">
                            <mat-icon>store</mat-icon>
                            <span>Kiosk</span>
                        </a>
                    </div>

<!--            </div>-->
<!--        </mat-toolbar>-->
        <mat-toolbar class="mat-elevation-z2 bg-white">
            <div class="container-fluid d-flex align-items-center justify-content-between w-100">
                <!-- Left: brand + links -->
                <div class="d-flex align-items-center gap-3">
                    <button mat-icon-button class="rounded-1"><mat-icon>menu</mat-icon></button>
                    <a class="navbar-brand d-flex align-items-center text-decoration-none" (click)="router.navigateByUrl('/')">
                        <img src="/logo.png" alt="Logo" class="img-fluid me-2" width="36" height="36"/>
                        <span class="fw-semibold text-dark">Hana Shop</span>
                    </a>
                    <a routerLink="/products" class="d-none d-md-block nav-link small text-secondary">Produits</a>
                    <a routerLink="/categories" class="d-none d-lg-block nav-link small text-secondary">Catégories</a>
                </div>

                <!-- Right: auth + cart -->
                <div class="d-flex align-items-center gap-2">
                    <ng-container *ngIf="(isAuthenticated$ | async) === true; else guestLinks">
                        <a routerLink="/admin" class="btn btn-sm btn-outline-secondary d-none d-md-inline-flex">Admin</a>
                        <button class="btn btn-sm btn-outline-danger d-none d-md-inline-flex" (click)="auth.logout()">Se déconnecter</button>
                    </ng-container>
                    <ng-template #guestLinks>
                        <a routerLink="/login" class="btn btn-sm btn-outline-secondary d-none d-md-inline-flex">Se connecter</a>
                        <a routerLink="/signup" class="btn btn-sm btn-primary d-none d-md-inline-flex">S'inscrire</a>
                    </ng-template>
                    <button mat-icon-button aria-label="Basket" class="position-relative rounded-1" (click)="drawer.toggle()">
                        <mat-icon>shopping_cart</mat-icon>
                        <span class="position-absolute top-10 start-100 translate-middle text-danger badge rounded-pill bg-pizza-red" style="transform: scale(0.9); font-size: 0.9rem;">
                          {{ productsInBasketCount.getValue() }}
                        </span>
                    </button>
                </div>
            </div>
        </mat-toolbar>

        <router-outlet></router-outlet>
    </mat-drawer-content>
</mat-drawer-container>
